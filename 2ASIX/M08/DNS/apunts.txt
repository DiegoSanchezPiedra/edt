DNS Client 
	nslookup // host // dig

1) nswitch decideix que es miera primer --> files dns
2) mira el /etc/hosts
3) pregunta a un servidor dns

$ cat /etc/resolv.conf 
  # Generated by NetworkManager
  nameserver 192.168.0.1

normalment tenim dos servidor dns (aquests son el nameserver), el fan es que si un es inaccessible (està caigut) va a preguntar al segon
(no és com la gent pensa que si un no sap va a l'altre NO passa al seguent)

FQDN (full qualified domain name) n12.informatica.escoladeltreball.org.

(si no acaba en . vol dir que el nom es relatiu), llavors si només tenim n12 el que fa el nostre pc va a mirar al
/etc/resolv.conf a la part de *search "nom absolut (FQDN)"*, llavors el que està buscant el pc seria:
	n12.informatica.escoladeltreball.org.


		el . al final significa FQDN, node arrel TLD (top leven domain)

host

$host -t ns gmail.com
  gmail.com name server ns2.google.com.
  gmail.com name server ns3.google.com.
  gmail.com name server ns1.google.com.
  gmail.com name server ns4.google.com.

$host -t ns escoladeltreball.org
  escoladeltreball.org name server ns-8-c.gandi.net.
  escoladeltreball.org name server ns-126-a.gandi.net.
  escoladeltreball.org name server ns-113-b.gandi.net.

$host -t mx escoladeltreball.org
  escoladeltreball.org mail is handled by 10 aspmx.l.google.com.
  escoladeltreball.org mail is handled by 30 aspmx3.googlemail.com.
  escoladeltreball.org mail is handled by 20 alt2.aspmx.l.google.com.
  escoladeltreball.org mail is handled by 30 aspmx2.googlemail.com.
  escoladeltreball.org mail is handled by 20 lt1.aspmx.l.google.com.

host -t a escoladeltreball.org 			#a vol dir host
  escoladeltreball.org has address 85.192.81.129


client -------> servidor
		molts tipus de preguntes
		-t A host nom ---> IP
		-t mx correu ---> ip del servidors de correu
		-t ns nameserver ---> ip del servidor de noms

El servei dns es un servidor distribuit (els noms estan repartits en bocins per tot el mon en servidors dns)

	node arrel (.) ----> conté totes les ips i noms dels nodes de primer nivell
			     TLD 12 ordinadors que són l'arrel de DNS

	.com
	.edu
	.org ---> la llista de totes les organitzacions .org
		  escoladeltreball.org
			ns.edt.org (privats / publics)
			r22.edt.org
			t56.edt.org

	...
	.cat ---> la llista de totes les empreses .cat 
		   trespercent.cat
	.es
	.uk
		noempresa.com.uk
	...

---------------------------------------------------------------------------
client
pringat ---> servidor DNS -----> 
		gandhi

-el servidor de noms que rep la pregunta del client (resolver)
torna sempre una resposta: la ip demanada / no existeix el nom

-el client es conforma amb la resposta (no demana res més)

- el servidor ha de tornar una resposta per força!.
  normalment el servidor s'encarrega de trobar una respota -->
	procés de resolució

Un host de l'aula (client) d'informatics pregunta per ---> esports.ara.cat
	-fa la pregunta a gandhi (name server NS)
	-gandhi NO es l'autoritat de ara.cat
	-té la OBLIGACIÓ de resoldre la consulta, pregunta a un altre
		-li pregunta al node arrel, li pregunta per esports.ara.cat
			- no se, però se qui es .cat
		- gandhi li pregunta a .cat qui es esports.ara.cat
			- no he però se qui es ara.cat
		- gandhi li pregunta a ara.cat qui és esports.ara.cat
			- la ip és a.b.c.d

un HOST (client) de l'aula pregunta per xixarro.ara.cat
	-gandhi comprova que no és del seu domini, no és autoritat
	-gandhi OBLIGACIÓ de preguntar-ho, resoldre-ho
	-ara gandhi ja sap que ha de preuntar a ara.cat, i respon directament (això perque el 'recorregut' d'abans està guardada al caché)
		- no existeix aquest host
	- el client ja no busca més

-------------------------------------------------------
$host -t ns . #mostra els 13 servidors del mon





---------------------------------
practiques:
	1) mnuntar un servidor nomes chache
	2) munteu una zona hisx2.edt.org
	3) fer una delegació de zona
		hisx2.edt.org
		girona.hisx2.org
-----------------------------------
